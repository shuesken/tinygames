{"version":3,"sources":["../../src/common/Game.js"],"names":["PADDING","WIDTH","HEIGHT","PADDLE_WIDTH","PADDLE_HEIGHT","ACCELERATION","Paddle","gameEngine","options","props","health","other","Object","assign","type","BaseTypes","TYPES","INT16","DynamicObject","Ball","velocity","percent","Game","physicsEngine","SimplePhysicsEngine","on","gameLogic","bind","timeout","serverSideInit","serverSidePlayerJoined","serverSidePlayerDisconnected","clientSideInit","clientSideDraw","serializer","registerClass","ball","clearTimeout","setTimeout","resetBall","console","log","resetTimeout","x","y","position","Math","random","r","paddles","world","queryObjects","instanceType","queryObject","length","inputData","playerId","playerPaddle","input","addObjectToWorld","playerID","TwoVector","ev","controls","KeyboardControls","renderer","clientEngine","bindKey","repeat","updateEl","el","obj","style","top","left","document","querySelector","GameEngine"],"mappings":"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","sourcesContent":["import { GameEngine, BaseTypes, TwoVector, DynamicObject, KeyboardControls, SimplePhysicsEngine } from 'lance-gg'\n\nconst PADDING = 20\nconst WIDTH = 600\nconst HEIGHT = 600\nconst PADDLE_WIDTH = 15\nconst PADDLE_HEIGHT = 75\n\nconst ACCELERATION = 1.2\n\n// A paddle has a health attribute\nclass Paddle extends DynamicObject {\n  constructor(gameEngine, options, props) {\n    super(gameEngine, options, props)\n    this.health = 15\n  }\n\n  static get netScheme() {\n    return Object.assign({\n      health: { type: BaseTypes.TYPES.INT16 }\n    }, super.netScheme)\n  }\n\n  syncTo(other) {\n    super.syncTo(other)\n    this.health = other.health\n  }\n}\n\n// a game object to represent the ball\nclass Ball extends DynamicObject {\n  constructor(gameEngine, options, props) {\n    super(gameEngine, options, props)\n  }\n\n  // avoid gradual synchronization of velocity\n  get bending() {\n    return { velocity: { percent: 0.0 } }\n  }\n\n  syncTo(other) {\n    super.syncTo(other)\n  }\n}\n\nexport default class Game extends GameEngine {\n  constructor(options) {\n    super(options)\n    this.physicsEngine = new SimplePhysicsEngine({ gameEngine: this })\n\n    // common code\n    this.on('postStep', this.gameLogic.bind(this))\n    this.timeout = null\n\n    // server-only code\n    this.on('server__init', this.serverSideInit.bind(this))\n    this.on('server__playerJoined', this.serverSidePlayerJoined.bind(this))\n    this.on('server__playerDisconnected', this.serverSidePlayerDisconnected.bind(this))\n\n    // client-only code\n    this.on('client__rendererReady', this.clientSideInit.bind(this))\n    this.on('client__draw', this.clientSideDraw.bind(this))\n  }\n\n  registerClasses(serializer) {\n    serializer.registerClass(Paddle)\n    serializer.registerClass(Ball)\n  }\n\n  resetTimeout (ball) {\n    clearTimeout(this.timeout)\n    this.timeout = setTimeout(() => {\n      this.resetBall(ball)\n    }, 10000)\n\n  }\n\n  resetBall(ball) {\n    console.log('resetting ball')\n    this.resetTimeout(ball)\n    ball.velocity.x = 0\n    ball.velocity.y = 0\n    ball.position.x = WIDTH / 2\n    ball.position.y = Math.random() * HEIGHT\n\n    setTimeout(() => {\n      const r = ball.position.y % 4\n      if (r === 0) {\n        ball.velocity.x = 3\n        ball.velocity.y = 3\n      } else if (r === 1) {\n        ball.velocity.x = 3\n        ball.velocity.y = -3\n      } else if (r === 2) {\n        ball.velocity.x = -3\n        ball.velocity.y = 3\n      } else {\n        ball.velocity.x = -3\n        ball.velocity.y = -3\n      }\n    }, 5000)\n  }\n\n  gameLogic() {\n    const paddles = this.world.queryObjects({ instanceType: Paddle })\n    const ball = this.world.queryObject({ instanceType: Ball })\n    if (!ball || paddles.length !== 2) return\n\n    // CHECK LEFT EDGE:\n    if (ball.position.x <= PADDING + PADDLE_WIDTH &&\n      ball.position.y >= paddles[0].y && ball.position.y <= paddles[0].position.y + PADDLE_HEIGHT &&\n      ball.velocity.x < 0) {\n      // ball moving left hit player 1 paddle\n      ball.velocity.x *= -1 * ACCELERATION\n      ball.position.x = PADDING + PADDLE_WIDTH + 1\n      this.resetTimeout(ball)\n\n    } else if (ball.position.x <= 0) {\n      // ball hit left wall\n      ball.velocity.x *= -1 * ACCELERATION\n      ball.position.x = 0\n      paddles[0].health--\n      this.resetBall(ball)\n    }\n\n    // CHECK RIGHT EDGE:\n    if (ball.position.x >= WIDTH - PADDING - PADDLE_WIDTH &&\n      ball.position.y >= paddles[1].position.y && ball.position.y <= paddles[1].position.y + PADDLE_HEIGHT &&\n      ball.velocity.x > 0) {\n      // ball moving right hits player 2 paddle\n      ball.velocity.x *= -1\n      ball.position.x = WIDTH - PADDING - PADDLE_WIDTH - 1\n      this.resetTimeout(ball)\n    } else if (ball.position.x >= WIDTH) {\n      // ball hit right wall\n      ball.velocity.x *= -1\n      ball.position.x = WIDTH - 1\n      paddles[1].health--\n      this.resetBall(ball)\n    }\n\n    // ball hits top or bottom edge\n    if (ball.position.y <= 0) {\n      ball.position.y = 1\n      ball.velocity.y *= -1\n    } else if (ball.position.y >= HEIGHT) {\n      ball.position.y = HEIGHT - 1\n      ball.velocity.y *= -1\n    }\n  }\n\n  processInput(inputData, playerId) {\n    super.processInput(inputData, playerId)\n\n    // get the player paddle tied to the player socket\n    const playerPaddle = this.world.queryObject({ playerId })\n    if (playerPaddle) {\n      if (inputData.input === 'up' && playerPaddle.position.y > 0) {\n        playerPaddle.position.y -= 10\n      } else if (inputData.input === 'down' && playerPaddle.position.y < HEIGHT - 75) {\n        playerPaddle.position.y += 10\n      }\n    }\n  }\n\n  //\n  // SERVER ONLY CODE\n  //\n  serverSideInit() {\n    // create the paddles and the ball\n    this.addObjectToWorld(new Paddle(this, null, { playerID: 0, position: new TwoVector(PADDING, 0) }))\n    this.addObjectToWorld(new Paddle(this, null, { playerID: 0, position: new TwoVector(WIDTH - PADDING, 0) }))\n    this.addObjectToWorld(new Ball(this, null, {\n      position: new TwoVector(WIDTH / 2, HEIGHT / 2),\n      velocity: new TwoVector(3, 3)\n    }))\n  }\n\n  // attach newly connected player to next available paddle\n  serverSidePlayerJoined(ev) {\n    const paddles = this.world.queryObjects({ instanceType: Paddle })\n    if (paddles[0].playerId === 0) {\n      paddles[0].playerId = ev.playerId\n    } else if (paddles[1].playerId === 0) {\n      paddles[1].playerId = ev.playerId\n    }\n  }\n\n  serverSidePlayerDisconnected(ev) {\n    const paddles = this.world.queryObjects({ instanceType: Paddle })\n    if (paddles[0].playerId === ev.playerId) {\n      paddles[0].playerId = 0\n    } else if (paddles[1].playerId === ev.playerId) {\n      paddles[1].playerId = 0\n    }\n  }\n\n  //\n  // CLIENT ONLY CODE\n  //\n  clientSideInit() {\n    this.controls = new KeyboardControls(this.renderer.clientEngine)\n    this.controls.bindKey('up', 'up', { repeat: true })\n    this.controls.bindKey('down', 'down', { repeat: true })\n  }\n\n  clientSideDraw() {\n    function updateEl(el, obj) {\n      const health = obj.health > 0 ? obj.health : 15\n      el.style.top = obj.position.y + 10 + 'px'\n      el.style.left = obj.position.x + 'px'\n    }\n\n    const paddles = this.world.queryObjects({ instanceType: Paddle })\n    const ball = this.world.queryObject({ instanceType: Ball })\n    if (!ball || paddles.length !== 2) return\n    updateEl(document.querySelector('.ball'), ball)\n    updateEl(document.querySelector('.paddle1'), paddles[0])\n    updateEl(document.querySelector('.paddle2'), paddles[1])\n  }\n}\n"],"file":"Game.js"}